# 2. Слабые места блокчейн платформ

## 2.1 Масштабируемость
 
 
Масштабируемость – это  масштабирование платформы.
Это просто означает, насколько быстро она может обрабатывать задачи.
Мы не знаем, как биткоин или эфириум решат проблему масштабируемости, даже если они постоянно говорят, что работают над этим.
Давайте поговорим о том, что такое масштабируемость и почему это важно.
 
С точки зрения масштабируемости мы используем термины TPS и интервал между блоками.
TPS - это сокращение от количества транзакций в секунду, что означает, что вы можете проверить, сколько транзакций в секунду может быть обработано.
Интервал блока - это интервал времени, в течение которого создается каждый блок.
 
Мы сравниваем скорость обработки блокчейнов  с Visa. Говорят, что Visa обрабатывает в среднем 1700 транзакций в секунду.
Говорят, что биткоин может обрабатывать 7 транзакций в секунду.
На самом деле, он может обрабатывать от 2 до 5 транзакций
 Это значение для эфира, составляет от 15 до 20 TPS.
 
Интервал создания блока у биткоина составляет 10 минут, а интервал создания блока у эфира - от 15 до 20 секунд.
Таким образом, если в сети эфира скорость обработки равна 20 TPS и интервал между блоками составляет 15 секунд, то 20 раз по 15, в одном блоке будет 300 транзакций.
 
 
Возникает вопрос.
Если у вас есть платформа с TPS 10 000 и интервалом между блоками 10 минут, каким будет пользовательский опыт?
Да. Это означает, что для завершения блока, который обрабатывает десять тысяч транзакций в секунду, требуется до 10 минут.
Что происходит потом?
Я просто хочу отправить деньги своему другу, поэтому я нажимаю кнопку перевода, и это может занять до 10 минут до завершения.
Это не имеет смысла.
Эфир значительно быстрее, чем биткоин, но 15-20 секунд - это довольно много для пользователей.
Мы напрягаемся, когда не получаем никаких результатов в течение 5 секунд в интернете.
Этого не должно происходить в 21 веке.
 
 
Итак, давайте посмотрим, почему существующий блокчейн работает медленнее.
Во-первых, мощность сети блокчейн характеризуются тем фактом, что большее количество узлов не означает более быструю сеть.
Наши широко используемые веб-сервисы и мобильные сервисы увеличивают количество серверов, чтобы максимально быстро отвечать пользователям, а когда поступает большое количество запросов, они развертываются и обрабатываются отдельно.
 
Однако сервер, называемый узлом, который составляет сеть блокчейна, должен обрабатывать 100 заданий при получении 100 заданий, не распределяя их.
То есть каждый узел повторяет одно и то же.
В результате производительность всей сети снижается до скорости самого медленного узла.
Производительность компьютера не имеет никакого отличия от производительности десятков тысяч различных сетей или компьютеров.
В результате блокчейн сети, такие как Биткоин или Эфириум, не способны обрабатывать большие объемы транзакций, а сама сеть работает медленно.
 
 
## 2.2 Отсутствие завершенности
 
 
Завершенность относится к неизменному конечному состоянию.
Завершенность блока в блокчейне гарантирует, что транзакции в блоке никогда не могут быть изменены.
Считается, что запись была завершена без вариантов.
Тем не менее, механизм майнинга биткоина и эфира не имеет такой завершенности.
Например, я заплатил биткоинами, чтобы купить билет на самолет.
В этот момент будет создана транзакция.
Это означает, что транзакция, которую можно будет оставить в записи, уже создана.
 Однако эта транзакция не обрабатывается сразу.
Это не идеальная гарантия.
Это только обеспечивает вероятностную завершенность, которая в конечном итоге будет обработана.
Это означает, что я сделал платеж, но позже я могу обнаружить, что он не может быть совершен.
 
Теперь давайте посмотрим, сколько времени нужно для достижения завершенность в среднем.
 
(Таблица)
 
Если вы посмотрите на эту таблицу, в случае биткоина среднее время достижения завершенности составляет 60 минут.
Майнинг блока занимает 10 минут, но для достижения завершенности требуется 1 час и 6 шагов. Эфириум сообщает, что до завершенности проходит 6 минут.
Чем больше вы проверяете каждый шаг, тем больше вероятность того, что вашей транзакции будет достаточно доверия.
Но эта процедура слишком много времени, потому что мы должны пройти этот этап проверки несколько раз. Криптовалюту трудно коммерциализировать уже из-за этого. После того, как вы совершите платеж, путь, по которому он будет проходить, будет слишком необычным.
 Сколько человек будет ждать до часа?
Так что завершенность играет очень важную роль.
Завершенность  показывает как долго нам нужно ждать, чтобы получить разумную гарантию того, что транзакция неизменна.
 
Наконец, долгое ожидание в блокчейн сети может оказать существенное влияние на ваш бизнес, поэтому быстрая завершаемость является важным бизнес-активом.
Я кратко объяснил отсутствие завершенности существующих блокчейнов.
 
## 2.3 Форк
  
Форк относится к явлению, когда цепочки блоков разбиваются на две или более ветвей.
Причина разветвления состоит в том, что все участники p2p-блокчейн сети могут самостоятельно майнить.
Сначала я объясню, как работает биткойн или эфириум.
Это решает проблему нахождения значения хеша для добавления блоков в цепочку блоков.
Несколько узлов пытаются решить задачу на скорость.
Иногда два узла решают проблему в одно и то же время.
Как результат, появляются два блока в качестве кандидатов для добавления в блокчейн.
В этот момент происходит разветвление.

Например, допустим, вы работаете с двумя узлами.
Узлы A и B.
И вот я отправил денежный перевод своему другу.
Формируется транзакция и затем попадает в пул транзакций.
Узлы A, B помещают транзакции в пул транзакций в свои собственные блоки для создания блока.
В настоящее время оба узла содержат транзакцию, которую я отправил своему другу.
 
В конце этого процесса узлы решают проблему добавления своих собственных блоков в существующую цепочку блоков.
Узлы должны пройти сложный вычислительный процесс, и узлы A и B решают задачу.
Затем узлы отправляют блок на другие узлы в сети.
 
Когда происходит такое распространение, некоторые узлы получают фиолетовый блок узла A, а другие получают черный блок узла B.
Здесь происходит ветвление, в третьем блоке.
Узлы, которые получают фиолетовый блок в процессе распространения, также получат черный блок позже.
Но они игнорируют черный блок.
Потому что транзакция, которую я отправил своему другу, уже добавлена в фиолетовый блок. И наоборот, узлы, которые получают черный блок, будут игнорировать другой, потому что они уже имеют ту же транзакцию, на момент когда они получили фиолетовый блок.
 
Затем мы находим хеш-значение из узла c, решаем задачу, а также создаем и отправляем четвертый блок.
В этом случае c-узел, который создал четвертый блок, является узлом, который получил третий черный блок.
И он будет добавлен, потому что у него есть родительский хэш третьего черного блока.
 
 
Однако узлы, которые имеют третий фиолетовый блок, не могут получить его, ведь четвертый черный блок прибывает позже.
Он не может быть получен, даже если он, очевидно, является действительным блоком, созданным путем решения задачи, и четвертым блоком, который идет по высоте блока.
Потому что родительский хэш четвертого блока - это не третий фиолетовый блок, а черный блок.
 
Затем узлы, которые получили третий фиолетовый блок, немедленно отбрасывают фиолетовый блок, который у них был, и загружают его снова, начиная с третьего черного блока.
Это означает, что черная линия становится длиннее.
Чем длиннее строка, тем больше вероятность, что она будет распознана как следующий блок и добавлена в блокчейн.
Это правило самой длинной цепи.
Этот процесс ветвления и слияния происходит естественным образом.



Однако есть некоторые области, где это правило может использоваться злоумышленниками.
Например, если у меня более 51 процента общей вычислительной мощности, я могу майнить намного быстрее и производить больше блоков, чем другие майнеры.
Это означает, что вы сможете продолжить с блока, который вы создали в процессе ветвления.
 
 
Например, в третьем блоке формируется ветвь.
Я создал черный блок, и мне нужно ждать четвертого блока, как обычно, но мне не нужно ждать, пока другой узел создаст блок,  я могу создать и добавить его сам. Сильная сила хеширования позволяет делать блоки быстрее. Таким образом, мне не нужно распространять цепь на другие узлы, и я продолжаю тайно расширять свою собственную цепь.
В этом процессе я могу игнорировать транзакции по определенному адресу в моем блоке или записывать, что я не отправил свои монеты, с целью обналичить их.
Тут работает моя цепочка блоков.
Это правило, которое добавляет блок в цепочку блоков, выбирая самую длинную строку в конце ветви. Другими словами, если в моей строке уже больше блоков по сравнению с другими строками, моя строка будет добавлена как «законная» в блокчейн сеть. Следовательно, существует вероятность путаницы в сети из-за использования этого правила, и каждый раз, когда это происходит, для завершения требуется много времени, потому что цепочка должна проходить этап проверки дольше.

